<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>15 Data Visualization | Adventures in Data Science</title>
  <meta name="description" content="15 Data Visualization | Adventures in Data Science" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="15 Data Visualization | Adventures in Data Science" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://ucdavisdatalab.github.io/adventures_in_data_science/" />
  
  
  <meta name="github-repo" content="ucdavisdatalab/adventures_in_data_science" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="15 Data Visualization | Adventures in Data Science" />
  
  
  

<meta name="author" content="Dr. Carl G. Stahmer" />
<meta name="author" content="Dr. Pamela L. Reynolds" />
<meta name="author" content="Dr. Tyler Shoemaker" />
<meta name="author" content="Carrie Alexander" />
<meta name="author" content="Arthur Koehl" />
<meta name="author" content="Nick Ulle" />
<meta name="author" content="Jared Joseph" />


<meta name="date" content="2021-03-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="optical-character-recognition.html"/>
<link rel="next" href="network-analysis.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>
<link href="libs/vis-4.20.1/vis.css" rel="stylesheet" />
<script src="libs/vis-4.20.1/vis.min.js"></script>
<script src="libs/visNetwork-binding-2.0.9/visNetwork.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://datalab.ucdavis.edu/">
  <img src="img/datalab-logo-full-color-rgb.png" style="height: 100%; width: 100%; object-fit: contain" />
</a></li>
<li><a href="./" style="font-size: 18px">Adventures in Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a></li>
<li class="chapter" data-level="1" data-path="working-with-the-command-line.html"><a href="working-with-the-command-line.html"><i class="fa fa-check"></i><b>1</b> Working with the Command Line</a>
<ul>
<li class="chapter" data-level="1.1" data-path="working-with-the-command-line.html"><a href="working-with-the-command-line.html#interacting-with-the-command-line"><i class="fa fa-check"></i><b>1.1</b> Interacting with the Command Line</a></li>
<li class="chapter" data-level="1.2" data-path="working-with-the-command-line.html"><a href="working-with-the-command-line.html#common-command-line-commands"><i class="fa fa-check"></i><b>1.2</b> Common Command Line Commands</a></li>
<li class="chapter" data-level="1.3" data-path="working-with-the-command-line.html"><a href="working-with-the-command-line.html#command-line-text-editors"><i class="fa fa-check"></i><b>1.3</b> Command Line Text Editors</a></li>
<li class="chapter" data-level="1.4" data-path="working-with-the-command-line.html"><a href="working-with-the-command-line.html#basic-vim-commands"><i class="fa fa-check"></i><b>1.4</b> Basic Vim Commands</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html"><i class="fa fa-check"></i><b>2</b> Introduction to Version Control</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#what-is-version-control"><i class="fa fa-check"></i><b>2.1</b> What is Version Control?</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#software-assisted-version-control"><i class="fa fa-check"></i><b>2.2</b> Software Assisted Version Control</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#local-vs-server-based-version-control"><i class="fa fa-check"></i><b>2.3</b> Local vs Server Based Version Control</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#central-version-control-systems"><i class="fa fa-check"></i><b>2.4</b> Central Version Control Systems</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#distributed-version-control-systems"><i class="fa fa-check"></i><b>2.5</b> Distributed Version Control Systems</a></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#the-best-of-both-worlds"><i class="fa fa-check"></i><b>2.6</b> The Best of Both Worlds</a></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#vcs-and-the-computer-file-system"><i class="fa fa-check"></i><b>2.7</b> VCS and the Computer File System</a></li>
<li class="chapter" data-level="2.8" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#how-computers-store-and-access-information"><i class="fa fa-check"></i><b>2.8</b> How Computers Store and Access Information</a></li>
<li class="chapter" data-level="2.9" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#how-vcs-manage-your-files"><i class="fa fa-check"></i><b>2.9</b> How VCS Manage Your Files</a></li>
<li class="chapter" data-level="2.10" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#graph-based-data-management"><i class="fa fa-check"></i><b>2.10</b> Graph-Based Data Management</a></li>
<li class="chapter" data-level="2.11" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#additional-resources"><i class="fa fa-check"></i><b>2.11</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduction-to-git.html"><a href="introduction-to-git.html"><i class="fa fa-check"></i><b>3</b> Introduction to Git</a>
<ul>
<li class="chapter" data-level="3.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#save-stage-commit"><i class="fa fa-check"></i><b>3.1</b> Save, Stage, Commit</a></li>
<li class="chapter" data-level="3.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#creating-your-first-repo"><i class="fa fa-check"></i><b>3.2</b> Creating Your First Repo</a></li>
<li class="chapter" data-level="3.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#checking-the-status-of-a-repo"><i class="fa fa-check"></i><b>3.3</b> Checking the Status of a Repo</a></li>
<li class="chapter" data-level="3.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#version-of-a-file"><i class="fa fa-check"></i><b>3.4</b> Version of a File</a></li>
<li class="chapter" data-level="3.5" data-path="introduction-to-git.html"><a href="introduction-to-git.html#view-a-history-of-your-commits"><i class="fa fa-check"></i><b>3.5</b> View a History of Your Commits</a></li>
<li class="chapter" data-level="3.6" data-path="introduction-to-git.html"><a href="introduction-to-git.html#comparing-commits"><i class="fa fa-check"></i><b>3.6</b> Comparing Commits</a></li>
<li class="chapter" data-level="3.7" data-path="introduction-to-git.html"><a href="introduction-to-git.html#comparing-files"><i class="fa fa-check"></i><b>3.7</b> Comparing Files</a></li>
<li class="chapter" data-level="3.8" data-path="introduction-to-git.html"><a href="introduction-to-git.html#to-view-an-earlier-commit"><i class="fa fa-check"></i><b>3.8</b> To View an Earlier Commit</a></li>
<li class="chapter" data-level="3.9" data-path="introduction-to-git.html"><a href="introduction-to-git.html#undoing-things"><i class="fa fa-check"></i><b>3.9</b> Undoing Things</a></li>
<li class="chapter" data-level="3.10" data-path="introduction-to-git.html"><a href="introduction-to-git.html#when-things-go-wrong"><i class="fa fa-check"></i><b>3.10</b> When Things go Wrong!</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="git-branching.html"><a href="git-branching.html"><i class="fa fa-check"></i><b>4</b> Git Branching</a>
<ul>
<li class="chapter" data-level="4.1" data-path="git-branching.html"><a href="git-branching.html#merging-branches"><i class="fa fa-check"></i><b>4.1</b> Merging Branches</a></li>
<li class="chapter" data-level="4.2" data-path="git-branching.html"><a href="git-branching.html#branching-workflows"><i class="fa fa-check"></i><b>4.2</b> Branching Workflows</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>5</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#learning-objectives"><i class="fa fa-check"></i><b>5.1</b> Learning objectives</a></li>
<li class="chapter" data-level="5.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#before-we-start"><i class="fa fa-check"></i><b>5.2</b> Before We Start</a></li>
<li class="chapter" data-level="5.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#mathematical-operations"><i class="fa fa-check"></i><b>5.3</b> Mathematical Operations</a></li>
<li class="chapter" data-level="5.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#help"><i class="fa fa-check"></i><b>5.4</b> HELP!</a></li>
<li class="chapter" data-level="5.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#calls"><i class="fa fa-check"></i><b>5.5</b> Calls</a></li>
<li class="chapter" data-level="5.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#variables"><i class="fa fa-check"></i><b>5.6</b> Variables</a></li>
<li class="chapter" data-level="5.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-types-and-classes"><i class="fa fa-check"></i><b>5.7</b> Data Types and Classes</a></li>
<li class="chapter" data-level="5.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vectors"><i class="fa fa-check"></i><b>5.8</b> Vectors</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#basic-statistics-on-vectors"><i class="fa fa-check"></i><b>5.8.1</b> Basic Statistics on Vectors</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="introduction-to-r.html"><a href="introduction-to-r.html#matrices-arrays-lists"><i class="fa fa-check"></i><b>5.9</b> Matrices, Arrays &amp; Lists</a></li>
<li class="chapter" data-level="5.10" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-frames"><i class="fa fa-check"></i><b>5.10</b> Data Frames</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#inspecting-data-frames"><i class="fa fa-check"></i><b>5.10.1</b> Inspecting Data Frames</a></li>
</ul></li>
<li class="chapter" data-level="5.11" data-path="introduction-to-r.html"><a href="introduction-to-r.html#subsetting"><i class="fa fa-check"></i><b>5.11</b> Subsetting</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="control-structures.html"><a href="control-structures.html"><i class="fa fa-check"></i><b>6</b> Control Structures</a>
<ul>
<li class="chapter" data-level="6.1" data-path="control-structures.html"><a href="control-structures.html#if-statement"><i class="fa fa-check"></i><b>6.1</b> <em>If</em> Statement</a></li>
<li class="chapter" data-level="6.2" data-path="control-structures.html"><a href="control-structures.html#relationship-operators"><i class="fa fa-check"></i><b>6.2</b> Relationship Operators</a></li>
<li class="chapter" data-level="6.3" data-path="control-structures.html"><a href="control-structures.html#if-else-statement"><i class="fa fa-check"></i><b>6.3</b> <em>If Else</em> Statement</a></li>
<li class="chapter" data-level="6.4" data-path="control-structures.html"><a href="control-structures.html#ifelse-statement"><i class="fa fa-check"></i><b>6.4</b> <em>ifelse</em> Statement</a></li>
<li class="chapter" data-level="6.5" data-path="control-structures.html"><a href="control-structures.html#the-switch-statement"><i class="fa fa-check"></i><b>6.5</b> The <em>switch</em> Statement</a></li>
<li class="chapter" data-level="6.6" data-path="control-structures.html"><a href="control-structures.html#the-which-statement"><i class="fa fa-check"></i><b>6.6</b> The <em>which</em> Statement</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="iterating-loops.html"><a href="iterating-loops.html"><i class="fa fa-check"></i><b>7</b> Iterating (Loops)</a>
<ul>
<li class="chapter" data-level="7.1" data-path="iterating-loops.html"><a href="iterating-loops.html#for-i-in-x-loops"><i class="fa fa-check"></i><b>7.1</b> For <em>i</em> in <em>x</em> Loops</a></li>
<li class="chapter" data-level="7.2" data-path="iterating-loops.html"><a href="iterating-loops.html#while-loops"><i class="fa fa-check"></i><b>7.2</b> <em>While</em> Loops</a></li>
<li class="chapter" data-level="7.3" data-path="iterating-loops.html"><a href="iterating-loops.html#repeat-loops"><i class="fa fa-check"></i><b>7.3</b> <em>Repeat</em> Loops</a></li>
<li class="chapter" data-level="7.4" data-path="iterating-loops.html"><a href="iterating-loops.html#break-and-next"><i class="fa fa-check"></i><b>7.4</b> <em>Break</em> and <em>Next</em></a></li>
<li class="chapter" data-level="7.5" data-path="iterating-loops.html"><a href="iterating-loops.html#iterating-data.frame-rows-in-r"><i class="fa fa-check"></i><b>7.5</b> Iterating Data.Frame Rows in R</a></li>
<li class="chapter" data-level="7.6" data-path="iterating-loops.html"><a href="iterating-loops.html#lapply"><i class="fa fa-check"></i><b>7.6</b> <em>lapply()</em></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="packages-and-functions.html"><a href="packages-and-functions.html"><i class="fa fa-check"></i><b>8</b> Packages and Functions</a>
<ul>
<li class="chapter" data-level="8.1" data-path="packages-and-functions.html"><a href="packages-and-functions.html#learning-objectives-1"><i class="fa fa-check"></i><b>8.1</b> Learning objectives</a></li>
<li class="chapter" data-level="8.2" data-path="packages-and-functions.html"><a href="packages-and-functions.html#what-is-a-function"><i class="fa fa-check"></i><b>8.2</b> What is a function?</a></li>
<li class="chapter" data-level="8.3" data-path="packages-and-functions.html"><a href="packages-and-functions.html#what-is-the-basic-syntax-of-a-function-in-r"><i class="fa fa-check"></i><b>8.3</b> What is the basic syntax of a function in R?</a></li>
<li class="chapter" data-level="8.4" data-path="packages-and-functions.html"><a href="packages-and-functions.html#step-1-building-a-function"><i class="fa fa-check"></i><b>8.4</b> Step 1: Building a function</a></li>
<li class="chapter" data-level="8.5" data-path="packages-and-functions.html"><a href="packages-and-functions.html#step-2-calling-the-function"><i class="fa fa-check"></i><b>8.5</b> Step 2: Calling the function</a></li>
<li class="chapter" data-level="8.6" data-path="packages-and-functions.html"><a href="packages-and-functions.html#a-function-can-have-more-than-one-argument"><i class="fa fa-check"></i><b>8.6</b> A function can have more than one argument</a></li>
<li class="chapter" data-level="8.7" data-path="packages-and-functions.html"><a href="packages-and-functions.html#using-a-package-and-function-to-graph-data-and-export-a-.png"><i class="fa fa-check"></i><b>8.7</b> Using a package and function to graph data and export a .png</a></li>
<li class="chapter" data-level="8.8" data-path="packages-and-functions.html"><a href="packages-and-functions.html#saving-functions-and-calling-them-from-another-file"><i class="fa fa-check"></i><b>8.8</b> Saving functions and calling them from another file</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="file-input-and-output.html"><a href="file-input-and-output.html"><i class="fa fa-check"></i><b>9</b> File Input and Output</a>
<ul>
<li class="chapter" data-level="9.1" data-path="file-input-and-output.html"><a href="file-input-and-output.html#objectives"><i class="fa fa-check"></i><b>9.1</b> Objectives</a></li>
<li class="chapter" data-level="9.2" data-path="file-input-and-output.html"><a href="file-input-and-output.html#basic-idea"><i class="fa fa-check"></i><b>9.2</b> Basic Idea</a></li>
<li class="chapter" data-level="9.3" data-path="file-input-and-output.html"><a href="file-input-and-output.html#file-formats"><i class="fa fa-check"></i><b>9.3</b> File Formats</a></li>
<li class="chapter" data-level="9.4" data-path="file-input-and-output.html"><a href="file-input-and-output.html#filesystems-and-paths"><i class="fa fa-check"></i><b>9.4</b> Filesystems and Paths</a></li>
<li class="chapter" data-level="9.5" data-path="file-input-and-output.html"><a href="file-input-and-output.html#get-and-set-working-directory"><i class="fa fa-check"></i><b>9.5</b> get and set working directory</a></li>
<li class="chapter" data-level="9.6" data-path="file-input-and-output.html"><a href="file-input-and-output.html#saving-and-loading-r-data"><i class="fa fa-check"></i><b>9.6</b> saving and loading R data</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="file-input-and-output.html"><a href="file-input-and-output.html#rds"><i class="fa fa-check"></i><b>9.6.1</b> rds</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="file-input-and-output.html"><a href="file-input-and-output.html#reading-and-writing-text-data"><i class="fa fa-check"></i><b>9.7</b> Reading and Writing Text data</a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="file-input-and-output.html"><a href="file-input-and-output.html#tabular-data"><i class="fa fa-check"></i><b>9.7.1</b> tabular data</a></li>
<li class="chapter" data-level="9.7.2" data-path="file-input-and-output.html"><a href="file-input-and-output.html#read-and-write-table"><i class="fa fa-check"></i><b>9.7.2</b> read and write table</a></li>
<li class="chapter" data-level="9.7.3" data-path="file-input-and-output.html"><a href="file-input-and-output.html#csv-format"><i class="fa fa-check"></i><b>9.7.3</b> CSV format</a></li>
<li class="chapter" data-level="9.7.4" data-path="file-input-and-output.html"><a href="file-input-and-output.html#non-tabular-data"><i class="fa fa-check"></i><b>9.7.4</b> Non tabular data</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="file-input-and-output.html"><a href="file-input-and-output.html#urls-as-files"><i class="fa fa-check"></i><b>9.8</b> URLS as files</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html"><i class="fa fa-check"></i><b>10</b> Strings and Regular Expressions</a>
<ul>
<li class="chapter" data-level="10.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#printing-output"><i class="fa fa-check"></i><b>10.1</b> Printing Output</a></li>
<li class="chapter" data-level="10.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#escape-sequences"><i class="fa fa-check"></i><b>10.2</b> Escape Sequences</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#raw-strings"><i class="fa fa-check"></i><b>10.2.1</b> Raw Strings</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#character-encodings"><i class="fa fa-check"></i><b>10.3</b> Character Encodings</a></li>
<li class="chapter" data-level="10.4" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#the-tidyverse"><i class="fa fa-check"></i><b>10.4</b> The Tidyverse</a></li>
<li class="chapter" data-level="10.5" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#the-stringr-package"><i class="fa fa-check"></i><b>10.5</b> The stringr Package</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#splitting-strings"><i class="fa fa-check"></i><b>10.5.1</b> Splitting Strings</a></li>
<li class="chapter" data-level="10.5.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#replacing-parts-of-strings"><i class="fa fa-check"></i><b>10.5.2</b> Replacing Parts of Strings</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#regular-expressions"><i class="fa fa-check"></i><b>10.6</b> Regular Expressions</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#the-wildcard"><i class="fa fa-check"></i><b>10.6.1</b> The Wildcard</a></li>
<li class="chapter" data-level="10.6.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#escape-sequences-1"><i class="fa fa-check"></i><b>10.6.2</b> Escape Sequences</a></li>
<li class="chapter" data-level="10.6.3" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#anchors"><i class="fa fa-check"></i><b>10.6.3</b> Anchors</a></li>
<li class="chapter" data-level="10.6.4" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#character-classes"><i class="fa fa-check"></i><b>10.6.4</b> Character Classes</a></li>
<li class="chapter" data-level="10.6.5" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#quantifiers"><i class="fa fa-check"></i><b>10.6.5</b> Quantifiers</a></li>
<li class="chapter" data-level="10.6.6" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#groups"><i class="fa fa-check"></i><b>10.6.6</b> Groups</a></li>
<li class="chapter" data-level="10.6.7" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#extracting-matches"><i class="fa fa-check"></i><b>10.6.7</b> Extracting Matches</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>11</b> Data Structures</a>
<ul>
<li class="chapter" data-level="11.1" data-path="data-structures.html"><a href="data-structures.html#tabular-data-1"><i class="fa fa-check"></i><b>11.1</b> Tabular Data</a></li>
<li class="chapter" data-level="11.2" data-path="data-structures.html"><a href="data-structures.html#tree-document-data-structures"><i class="fa fa-check"></i><b>11.2</b> Tree / Document Data Structures</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="data-structures.html"><a href="data-structures.html#structuring-data-as-xml"><i class="fa fa-check"></i><b>11.2.1</b> Structuring Data as XML</a></li>
<li class="chapter" data-level="11.2.2" data-path="data-structures.html"><a href="data-structures.html#structuring-data-as-json"><i class="fa fa-check"></i><b>11.2.2</b> Structuring Data as JSON</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="data-structures.html"><a href="data-structures.html#relational-databases"><i class="fa fa-check"></i><b>11.3</b> Relational Databases</a></li>
<li class="chapter" data-level="11.4" data-path="data-structures.html"><a href="data-structures.html#non-hierarchical-relational-data"><i class="fa fa-check"></i><b>11.4</b> Non-Hierarchical Relational Data</a></li>
<li class="chapter" data-level="11.5" data-path="data-structures.html"><a href="data-structures.html#geospatial-data"><i class="fa fa-check"></i><b>11.5</b> Geospatial Data</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="how-the-web-works.html"><a href="how-the-web-works.html"><i class="fa fa-check"></i><b>12</b> How the Web Works</a>
<ul>
<li class="chapter" data-level="12.1" data-path="how-the-web-works.html"><a href="how-the-web-works.html#client-server-architecture"><i class="fa fa-check"></i><b>12.1</b> Client-Server Architecture</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="how-the-web-works.html"><a href="how-the-web-works.html#communication-between-clients-and-servers"><i class="fa fa-check"></i><b>12.1.1</b> Communication Between Clients and Servers</a></li>
<li class="chapter" data-level="12.1.2" data-path="how-the-web-works.html"><a href="how-the-web-works.html#domain-name-resolution"><i class="fa fa-check"></i><b>12.1.2</b> Domain Name Resolution</a></li>
<li class="chapter" data-level="12.1.3" data-path="how-the-web-works.html"><a href="how-the-web-works.html#request-routing"><i class="fa fa-check"></i><b>12.1.3</b> Request Routing</a></li>
<li class="chapter" data-level="12.1.4" data-path="how-the-web-works.html"><a href="how-the-web-works.html#the-server-response"><i class="fa fa-check"></i><b>12.1.4</b> The Server Response</a></li>
<li class="chapter" data-level="12.1.5" data-path="how-the-web-works.html"><a href="how-the-web-works.html#internet-transfer-protocols"><i class="fa fa-check"></i><b>12.1.5</b> Internet Transfer Protocols</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="how-the-web-works.html"><a href="how-the-web-works.html#understanding-urls"><i class="fa fa-check"></i><b>12.2</b> Understanding URLs</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="how-the-web-works.html"><a href="how-the-web-works.html#dynamic-files"><i class="fa fa-check"></i><b>12.2.1</b> Dynamic Files</a></li>
<li class="chapter" data-level="12.2.2" data-path="how-the-web-works.html"><a href="how-the-web-works.html#query-strings"><i class="fa fa-check"></i><b>12.2.2</b> Query Strings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="web-scraping.html"><a href="web-scraping.html"><i class="fa fa-check"></i><b>13</b> Web Scraping</a>
<ul>
<li class="chapter" data-level="13.1" data-path="web-scraping.html"><a href="web-scraping.html#getting-data-from-the-web"><i class="fa fa-check"></i><b>13.1</b> Getting Data from the Web</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="web-scraping.html"><a href="web-scraping.html#whats-in-a-web-page"><i class="fa fa-check"></i><b>13.1.1</b> What’s in a Web Page?</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="web-scraping.html"><a href="web-scraping.html#rs-xml-parsers"><i class="fa fa-check"></i><b>13.2</b> R’s XML Parsers</a></li>
<li class="chapter" data-level="13.3" data-path="web-scraping.html"><a href="web-scraping.html#xpath"><i class="fa fa-check"></i><b>13.3</b> XPath</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="web-scraping.html"><a href="web-scraping.html#predicates"><i class="fa fa-check"></i><b>13.3.1</b> Predicates</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="web-scraping.html"><a href="web-scraping.html#the-web-scraping-workflow"><i class="fa fa-check"></i><b>13.4</b> The Web Scraping Workflow</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="web-scraping.html"><a href="web-scraping.html#being-polite"><i class="fa fa-check"></i><b>13.4.1</b> Being Polite</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="web-scraping.html"><a href="web-scraping.html#case-study-ca-cities"><i class="fa fa-check"></i><b>13.5</b> Case Study: CA Cities</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="web-scraping.html"><a href="web-scraping.html#data-cleaning"><i class="fa fa-check"></i><b>13.5.1</b> Data Cleaning</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="web-scraping.html"><a href="web-scraping.html#case-study-the-ca-aggie"><i class="fa fa-check"></i><b>13.6</b> Case Study: The CA Aggie</a></li>
<li class="chapter" data-level="13.7" data-path="web-scraping.html"><a href="web-scraping.html#css-selectors"><i class="fa fa-check"></i><b>13.7</b> CSS Selectors</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html"><i class="fa fa-check"></i><b>14</b> Optical Character Recognition</a>
<ul>
<li class="chapter" data-level="14.1" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#loading-page-images"><i class="fa fa-check"></i><b>14.1</b> Loading Page Images</a></li>
<li class="chapter" data-level="14.2" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#running-ocr"><i class="fa fa-check"></i><b>14.2</b> Running OCR</a></li>
<li class="chapter" data-level="14.3" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#accuracy"><i class="fa fa-check"></i><b>14.3</b> Accuracy</a></li>
<li class="chapter" data-level="14.4" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#unreadable-text"><i class="fa fa-check"></i><b>14.4</b> Unreadable Text</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>15</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="15.1" data-path="data-visualization.html"><a href="data-visualization.html#factors"><i class="fa fa-check"></i><b>15.1</b> Factors</a></li>
<li class="chapter" data-level="15.2" data-path="data-visualization.html"><a href="data-visualization.html#r-graphics-overview"><i class="fa fa-check"></i><b>15.2</b> R Graphics Overview</a></li>
<li class="chapter" data-level="15.3" data-path="data-visualization.html"><a href="data-visualization.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>15.3</b> The Grammar of Graphics</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="data-visualization.html"><a href="data-visualization.html#making-a-plot"><i class="fa fa-check"></i><b>15.3.1</b> Making a Plot</a></li>
<li class="chapter" data-level="15.3.2" data-path="data-visualization.html"><a href="data-visualization.html#saving-plots"><i class="fa fa-check"></i><b>15.3.2</b> Saving Plots</a></li>
<li class="chapter" data-level="15.3.3" data-path="data-visualization.html"><a href="data-visualization.html#example-bar-plot"><i class="fa fa-check"></i><b>15.3.3</b> Example: Bar Plot</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="data-visualization.html"><a href="data-visualization.html#designing-a-visualization"><i class="fa fa-check"></i><b>15.4</b> Designing a Visualization</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="network-analysis.html"><a href="network-analysis.html"><i class="fa fa-check"></i><b>16</b> Network Analysis</a>
<ul>
<li class="chapter" data-level="16.1" data-path="network-analysis.html"><a href="network-analysis.html#overview-1"><i class="fa fa-check"></i><b>16.1</b> Overview</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="network-analysis.html"><a href="network-analysis.html#while-you-wait"><i class="fa fa-check"></i><b>16.1.1</b> While you wait</a></li>
<li class="chapter" data-level="16.1.2" data-path="network-analysis.html"><a href="network-analysis.html#learning-objectives-2"><i class="fa fa-check"></i><b>16.1.2</b> Learning Objectives</a></li>
<li class="chapter" data-level="16.1.3" data-path="network-analysis.html"><a href="network-analysis.html#roadmap"><i class="fa fa-check"></i><b>16.1.3</b> Roadmap</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="network-analysis.html"><a href="network-analysis.html#what-is-network-analysis"><i class="fa fa-check"></i><b>16.2</b> What is Network Analysis</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research---social-sciences"><i class="fa fa-check"></i><b>16.2.1</b> Networks in research - Social Sciences</a></li>
<li class="chapter" data-level="16.2.2" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research---neuroscience"><i class="fa fa-check"></i><b>16.2.2</b> Networks in research - Neuroscience</a></li>
<li class="chapter" data-level="16.2.3" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research---chemistry"><i class="fa fa-check"></i><b>16.2.3</b> Networks in research - Chemistry</a></li>
<li class="chapter" data-level="16.2.4" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research---the-internet"><i class="fa fa-check"></i><b>16.2.4</b> Networks in research - The Internet</a></li>
<li class="chapter" data-level="16.2.5" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research---infrastructure"><i class="fa fa-check"></i><b>16.2.5</b> Networks in research - Infrastructure</a></li>
<li class="chapter" data-level="16.2.6" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research---security"><i class="fa fa-check"></i><b>16.2.6</b> Networks in research - Security</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="network-analysis.html"><a href="network-analysis.html#network-data"><i class="fa fa-check"></i><b>16.3</b> Network Data</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="network-analysis.html"><a href="network-analysis.html#edgelist"><i class="fa fa-check"></i><b>16.3.1</b> Edgelist</a></li>
<li class="chapter" data-level="16.3.2" data-path="network-analysis.html"><a href="network-analysis.html#adjacency-matrix"><i class="fa fa-check"></i><b>16.3.2</b> Adjacency Matrix</a></li>
<li class="chapter" data-level="16.3.3" data-path="network-analysis.html"><a href="network-analysis.html#edge-weights"><i class="fa fa-check"></i><b>16.3.3</b> Edge Weights</a></li>
<li class="chapter" data-level="16.3.4" data-path="network-analysis.html"><a href="network-analysis.html#attributes"><i class="fa fa-check"></i><b>16.3.4</b> Attributes</a></li>
<li class="chapter" data-level="16.3.5" data-path="network-analysis.html"><a href="network-analysis.html#create-an-example-network"><i class="fa fa-check"></i><b>16.3.5</b> Create an Example Network</a></li>
<li class="chapter" data-level="16.3.6" data-path="network-analysis.html"><a href="network-analysis.html#components"><i class="fa fa-check"></i><b>16.3.6</b> Components</a></li>
<li class="chapter" data-level="16.3.7" data-path="network-analysis.html"><a href="network-analysis.html#limitations-of-network-data"><i class="fa fa-check"></i><b>16.3.7</b> Limitations of Network Data</a></li>
<li class="chapter" data-level="16.3.8" data-path="network-analysis.html"><a href="network-analysis.html#projected-networks"><i class="fa fa-check"></i><b>16.3.8</b> Projected Networks</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="network-analysis.html"><a href="network-analysis.html#graph-level-properties"><i class="fa fa-check"></i><b>16.4</b> Graph Level Properties</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="network-analysis.html"><a href="network-analysis.html#directed-or-un-directed"><i class="fa fa-check"></i><b>16.4.1</b> Directed or Un-directed</a></li>
<li class="chapter" data-level="16.4.2" data-path="network-analysis.html"><a href="network-analysis.html#density"><i class="fa fa-check"></i><b>16.4.2</b> Density</a></li>
<li class="chapter" data-level="16.4.3" data-path="network-analysis.html"><a href="network-analysis.html#centralization"><i class="fa fa-check"></i><b>16.4.3</b> Centralization</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="network-analysis.html"><a href="network-analysis.html#node-level-properties"><i class="fa fa-check"></i><b>16.5</b> Node Level Properties</a>
<ul>
<li class="chapter" data-level="16.5.1" data-path="network-analysis.html"><a href="network-analysis.html#degree"><i class="fa fa-check"></i><b>16.5.1</b> Degree</a></li>
<li class="chapter" data-level="16.5.2" data-path="network-analysis.html"><a href="network-analysis.html#geodesic-distance"><i class="fa fa-check"></i><b>16.5.2</b> Geodesic Distance</a></li>
<li class="chapter" data-level="16.5.3" data-path="network-analysis.html"><a href="network-analysis.html#centrality"><i class="fa fa-check"></i><b>16.5.3</b> Centrality</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="network-analysis.html"><a href="network-analysis.html#network-workflow"><i class="fa fa-check"></i><b>16.6</b> Network Workflow</a></li>
<li class="chapter" data-level="16.7" data-path="network-analysis.html"><a href="network-analysis.html#network-tools"><i class="fa fa-check"></i><b>16.7</b> Network Tools</a>
<ul>
<li class="chapter" data-level="16.7.1" data-path="network-analysis.html"><a href="network-analysis.html#network-models"><i class="fa fa-check"></i><b>16.7.1</b> Network Models</a></li>
<li class="chapter" data-level="16.7.2" data-path="network-analysis.html"><a href="network-analysis.html#network-visualization"><i class="fa fa-check"></i><b>16.7.2</b> Network Visualization</a></li>
</ul></li>
<li class="chapter" data-level="16.8" data-path="network-analysis.html"><a href="network-analysis.html#references"><i class="fa fa-check"></i><b>16.8</b> References</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>17</b> Statistics</a>
<ul>
<li class="chapter" data-level="17.1" data-path="statistics.html"><a href="statistics.html#introduction"><i class="fa fa-check"></i><b>17.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="statistics.html"><a href="statistics.html#mice_pot-dataset"><i class="fa fa-check"></i><b>17.1.1</b> <code>mice_pot</code> dataset</a></li>
<li class="chapter" data-level="17.1.2" data-path="statistics.html"><a href="statistics.html#barnacles-dataset"><i class="fa fa-check"></i><b>17.1.2</b> <code>barnacles</code> dataset</a></li>
<li class="chapter" data-level="17.1.3" data-path="statistics.html"><a href="statistics.html#sample-and-population"><i class="fa fa-check"></i><b>17.1.3</b> Sample and population</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="statistics.html"><a href="statistics.html#uses-of-simulation"><i class="fa fa-check"></i><b>17.2</b> Uses of simulation</a></li>
<li class="chapter" data-level="17.3" data-path="statistics.html"><a href="statistics.html#mathematical-statistics"><i class="fa fa-check"></i><b>17.3</b> Mathematical statistics</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="statistics.html"><a href="statistics.html#law-of-large-numbers"><i class="fa fa-check"></i><b>17.3.1</b> Law of large numbers</a></li>
<li class="chapter" data-level="17.3.2" data-path="statistics.html"><a href="statistics.html#central-limit-theorem"><i class="fa fa-check"></i><b>17.3.2</b> Central limit theorem</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="statistics.html"><a href="statistics.html#statistical-inference"><i class="fa fa-check"></i><b>17.4</b> Statistical inference</a>
<ul>
<li class="chapter" data-level="17.4.1" data-path="statistics.html"><a href="statistics.html#confidence-intervals"><i class="fa fa-check"></i><b>17.4.1</b> Confidence intervals</a></li>
<li class="chapter" data-level="17.4.2" data-path="statistics.html"><a href="statistics.html#two-population-test"><i class="fa fa-check"></i><b>17.4.2</b> Two-population test</a></li>
<li class="chapter" data-level="17.4.3" data-path="statistics.html"><a href="statistics.html#hypothesis-tests-for-non-normal-data"><i class="fa fa-check"></i><b>17.4.3</b> Hypothesis tests for non-normal data</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="statistics.html"><a href="statistics.html#regression"><i class="fa fa-check"></i><b>17.5</b> Regression</a>
<ul>
<li class="chapter" data-level="17.5.1" data-path="statistics.html"><a href="statistics.html#fitting-a-regression-line"><i class="fa fa-check"></i><b>17.5.1</b> Fitting a regression line</a></li>
<li class="chapter" data-level="17.5.2" data-path="statistics.html"><a href="statistics.html#assumptions-and-diagnostics"><i class="fa fa-check"></i><b>17.5.2</b> Assumptions and diagnostics</a></li>
<li class="chapter" data-level="17.5.3" data-path="statistics.html"><a href="statistics.html#functions-for-inspecting-regression-fits"><i class="fa fa-check"></i><b>17.5.3</b> Functions for inspecting regression fits</a></li>
<li class="chapter" data-level="17.5.4" data-path="statistics.html"><a href="statistics.html#a-model-that-fails-diagnostics"><i class="fa fa-check"></i><b>17.5.4</b> A model that fails diagnostics</a></li>
<li class="chapter" data-level="17.5.5" data-path="statistics.html"><a href="statistics.html#predictions-and-variability"><i class="fa fa-check"></i><b>17.5.5</b> Predictions and variability</a></li>
</ul></li>
<li class="chapter" data-level="17.6" data-path="statistics.html"><a href="statistics.html#model-selection"><i class="fa fa-check"></i><b>17.6</b> Model selection</a></li>
<li class="chapter" data-level="17.7" data-path="statistics.html"><a href="statistics.html#cross-validation"><i class="fa fa-check"></i><b>17.7</b> Cross-validation</a></li>
<li class="chapter" data-level="17.8" data-path="statistics.html"><a href="statistics.html#references-1"><i class="fa fa-check"></i><b>17.8</b> References</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Adventures in Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-visualization" class="section level1" number="15">
<h1><span class="header-section-number">15</span> Data Visualization</h1>
<p>After this lesson, you should be able to:</p>
<ul>
<li>Explain the difference between strings and factors</li>
<li>Convert strings to factors</li>
<li>Explain the grammar of graphics</li>
<li>With the ggplot2 package:
<ul>
<li>Make various kinds of plots</li>
<li>Save plots</li>
</ul></li>
<li>Choose an appropriate kind of plot based on the data</li>
</ul>
<div id="factors" class="section level2" number="15.1">
<h2><span class="header-section-number">15.1</span> Factors</h2>
<p>A feature is <strong>categorical</strong> if it measures a qualitative category. For
example, the genres <code>rock</code>, <code>blues</code>, <code>alternative</code>, <code>folk</code>, <code>pop</code> are
categories.</p>
<p>R uses the class <code>factor</code> to represent categorical data. Visualizations and
statistical models sometimes treat factors differently than other data types,
so it’s important to make sure you have the right data type. If you’re ever
unsure, remember that you can check the class of an object with the <code>class</code>
function.</p>
<p>When you load a data set, R usually can’t tell which features are categorical.
That means identifying and converting the categorical features is up to you.
For beginners, it can be difficult to understand whether a feature is
categorical or not. The key is to think about whether you want to use the
feature to divide the data into groups. For example, if we want to know how
many songs are in the <code>rock</code> genre, we first need to divide the songs by genre,
and then count the number of songs in each group (or at least the <code>rock</code>
group).</p>
<p>As a second example, months recorded as numbers can be categorical or not,
depending on how you want to use them. You might want to treat them as
categorical (for example, to compute max rainfall in each month) or you might
want to treat them as numbers (for example, to compute the number of months
time between two events). The bottom line is that you have to think about what
you’ll be doing in the analysis. In some cases, you might treat a feature as
categorical only for part of the analysis.</p>
<p>Let’s think about which features are categorical in the favorite places data
set from an earlier lesson. There’s a copy of the data in an RDS file on
Canvas. We can load the data with:</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb284-1"><a href="data-visualization.html#cb284-1" aria-hidden="true" tabindex="-1"></a>favs <span class="ot">=</span> <span class="fu">readRDS</span>(<span class="st">&quot;data/fav_places.rds&quot;</span>)</span>
<span id="cb284-2"><a href="data-visualization.html#cb284-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(favs)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    15 obs. of  7 variables:
##  $ raw_description: chr  &quot;Mandro - Shaved Ice!&quot; &quot;Cruess Hall (the design building)&quot; &quot;The ARC&quot; &quot;Probably the CoHo. I like the croissants.&quot; ...
##  $ location       : chr  &quot;Mandro&quot; &quot;Cruess Hall&quot; &quot;ARC&quot; &quot;CoHo&quot; ...
##  $ address        : chr  &quot;Mandro Teahouse, 1260 Lake Blvd, Davis, CA 95616&quot; &quot;Cruess Hall, 375 California Ave, Davis, CA 95616&quot; &quot;UC Davis Activities and Recreation Center, 760 Orchard Rd, Davis, CA 95616&quot; &quot;UC Davis Activities and Recreation Center, 760 Orchard Rd, Davis, CA 95616&quot; ...
##  $ bike_min       : num  16 3 4 2 3 1 4 3 0 7 ...
##  $ walk_min       : num  56 11 14 5 9 3 14 9 0 22 ...
##  $ distance_mi    : num  3.1 0.6 0.8 0.2 0.5 0.2 0.7 0.5 0 1.2 ...
##  $ major          : chr  &quot;Nutrition&quot; &quot;Psychology&quot; &quot;Biology&quot; &quot;Political Science&quot; ...</code></pre>
<p>The numeric columns in this data set (<code>bike_min</code>, <code>walk_min</code>, and
<code>distance_mi</code>) are all quantitative, so they’re not categorical. That leaves
the character columns.</p>
<p>The <code>raw_description</code> and <code>address</code> columns mostly have unique entries. This is
a sign that they wouldn’t make good categorical features, because if we use a
column of unique entries to make groups, each group will only have one element!
So we can rule these out as categorical. They are textual data.</p>
<p>That leaves us with the <code>major</code> and <code>location</code> columns. It’s easy to imagine
grouping the survey responses by major, we can say <code>major</code> is categorical. For
<code>location</code>, it’s not as clear. The locations are:</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="data-visualization.html#cb286-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(favs<span class="sc">$</span>location)</span></code></pre></div>
<pre><code>## 
##       Arboretum             ARC            CoHo     Cruess Hall      Disneyland 
##               2               2               1               1               1 
##            iTea          Mandro              MU             PES Shields Library 
##               1               1               1               1               1 
##   Tennis Courts     Walker Hall    West Village 
##               1               1               1</code></pre>
<p>So there are a couple of locations that aren’t unique, but most of them are.
For this data set, we probably shouldn’t treat <code>location</code> as categorical
because the groups wouldn’t be interesting. However, if we had more survey
responses (or more at each location) it might make sense to do so.</p>
<p>Let’s convert the <code>major</code> column to a factor. To do this, use the <code>factor</code>
function:</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="data-visualization.html#cb288-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(favs<span class="sc">$</span>major)</span></code></pre></div>
<pre><code>##  [1] Nutrition               Psychology              Biology                
##  [4] Political Science       Sociology               Sustainable Agriculture
##  [7] Economics               Political Science       Undeclared             
## [10] Psychology              Undeclared              Economics              
## [13] Political Science       English                 Economics              
## 9 Levels: Biology Economics English Nutrition Political Science ... Undeclared</code></pre>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="data-visualization.html#cb290-1" aria-hidden="true" tabindex="-1"></a>favs<span class="sc">$</span>major <span class="ot">=</span> <span class="fu">factor</span>(favs<span class="sc">$</span>major)</span></code></pre></div>
<p>Notice that factors are printed differently than strings.</p>
<p>The categories of a factor are called <strong>levels</strong>. You can list the levels with
the <code>levels</code> function:</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="data-visualization.html#cb291-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(favs<span class="sc">$</span>major)</span></code></pre></div>
<pre><code>## [1] &quot;Biology&quot;                 &quot;Economics&quot;              
## [3] &quot;English&quot;                 &quot;Nutrition&quot;              
## [5] &quot;Political Science&quot;       &quot;Psychology&quot;             
## [7] &quot;Sociology&quot;               &quot;Sustainable Agriculture&quot;
## [9] &quot;Undeclared&quot;</code></pre>
<p>Factors remember all possible levels even if you take a subset:</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="data-visualization.html#cb293-1" aria-hidden="true" tabindex="-1"></a>favs<span class="sc">$</span>major[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)]</span></code></pre></div>
<pre><code>## [1] Nutrition  Psychology
## 9 Levels: Biology Economics English Nutrition Political Science ... Undeclared</code></pre>
<p>This is another way factors are different from strings. Factors “remember” all
possible levels even if they aren’t present. This ensures that if you plot a
factor, the missing levels will still be represented on the plot.</p>
<p>You can make a factor forget levels that aren’t present with the <code>droplevels</code>
function:</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="data-visualization.html#cb295-1" aria-hidden="true" tabindex="-1"></a>first3 <span class="ot">=</span> favs<span class="sc">$</span>major[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span>
<span id="cb295-2"><a href="data-visualization.html#cb295-2" aria-hidden="true" tabindex="-1"></a><span class="fu">droplevels</span>(first3)</span></code></pre></div>
<pre><code>## [1] Nutrition  Psychology Biology   
## Levels: Biology Nutrition Psychology</code></pre>
</div>
<div id="r-graphics-overview" class="section level2" number="15.2">
<h2><span class="header-section-number">15.2</span> R Graphics Overview</h2>
<p>There are three popular systems for creating visualizations in R:</p>
<ol style="list-style-type: decimal">
<li>The base R functions (primarily the <code>plot</code> function)</li>
<li>The lattice package</li>
<li>The ggplot2 package</li>
</ol>
<p>These three systems are not interoperable! Consequently, it’s best to choose
one to use exclusively. Compared to base R, both lattice and ggplot2 are better
at handling grouped data and generally require less code to create a
nice-looking visualization.</p>
<p>The ggplot2 package is so popular that there are now knockoff packages for
other data-science-oriented programming languages like Python and Julia. The
package is also part of the Tidyverse. Because of these advantages, we’ll use
ggplot2 for visualizations in this and all future lessons.</p>
</div>
<div id="the-grammar-of-graphics" class="section level2" number="15.3">
<h2><span class="header-section-number">15.3</span> The Grammar of Graphics</h2>
<p>ggplot2 has detailed <a href="https://ggplot2.tidyverse.org/">documentation</a> and also a
<a href="https://github.com/rstudio/cheatsheets/blob/master/data-visualization-2.1.pdf">cheatsheet</a>.</p>
<p>The “gg” in ggplot2 stands for <strong>grammar of graphics</strong>. The idea of a grammar
of graphics is that visualizations can be built up in layers. In ggplot2, the
three layers every plot must have are:</p>
<ul>
<li>Data</li>
<li>Geometry</li>
<li>Aesthetics</li>
</ul>
<p>There are also several optional layers. Here are a few:</p>
<table>
<thead>
<tr class="header">
<th>Layer</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>scales</td>
<td>Title, label, and axis value settings</td>
</tr>
<tr class="even">
<td>facets</td>
<td>Side-by-side plots</td>
</tr>
<tr class="odd">
<td>guides</td>
<td>Axis and legend position settings</td>
</tr>
<tr class="even">
<td>annotations</td>
<td>Shapes that are not mapped to data</td>
</tr>
<tr class="odd">
<td>coordinates</td>
<td>Coordinate systems (Cartesian, logarithmic, polar)</td>
</tr>
</tbody>
</table>
<div id="making-a-plot" class="section level3" number="15.3.1">
<h3><span class="header-section-number">15.3.1</span> Making a Plot</h3>
<p>As an example, let’s plot the favorite places survey data. First, we need to
load ggplot2. As always, if this is your first time using the package, you’ll
have to install it. Then you can load the package:</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="data-visualization.html#cb297-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;ggplot2&quot;)</span></span>
<span id="cb297-2"><a href="data-visualization.html#cb297-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code></pre></div>
<p>What kind of plot should we make? It depends on what data we want the plot to
show. Let’s make a plot that shows the distance in miles (from the library)
against the walking time in minutes for each place in the data. Both the
distance and the walking time are recorded as numbers. A scatter plot is a good
choice for displaying two numeric features. Later we’ll learn about other
options, but for now we’ll make a scatter plot.</p>
<div id="layer-1-data" class="section level4 unnumbered">
<h4>Layer 1: Data</h4>
<p>The data layer determines the data set used to make the plot. ggplot and most
other Tidyverse packages are designed for working with <strong>tidy</strong> data frames.
Tidy means:</p>
<ol style="list-style-type: decimal">
<li>Each observation has its own row.</li>
<li>Each feature has its own column.</li>
<li>Each value has its own cell.</li>
</ol>
<p>Tidy data sets are convenient in general. A later lesson will cover how to make
an untidy data set tidy. Until then, we’ll take it for granted that the data
sets we work with are tidy.</p>
<p>To set up the data layer, call the <code>ggplot</code> function on a data frame:</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="data-visualization.html#cb298-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(favs)</span></code></pre></div>
<p><img src="15_r-ggplot2_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>This returns a blank plot. We still need to add a few more layers.</p>
</div>
<div id="layer-2-geometry" class="section level4 unnumbered">
<h4>Layer 2: Geometry</h4>
<p>The <strong>geom</strong>etry layer determines the shape or appearance of the visual
elements of the plot. In other words, the geometry layer determines what kind
of plot to make: one with points, lines, boxes, or something else.</p>
<p>There are many different geometries available in ggplot2. The package provides
a function for each geometry, always prefixed with <code>geom_</code>.</p>
<p>To add a geometry layer to the plot, choose the <code>geom_</code> function you want and
add it to the plot with the <code>+</code> operator:</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="data-visualization.html#cb299-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(favs) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code></pre></div>
<pre><code>## Error: geom_point requires the following missing aesthetics: x and y</code></pre>
<p>This returns an error message that we’re missing aesthetics <code>x</code> and <code>y</code>. We’ll
learn more about aesthetics in the next section, but this error message is
especially helpful: it tells us exactly what we’re missing. When you use a
geometry you’re unfamiliar with, it can be helpful to run the code for just the
data and geometry layer like this, to see exactly which aesthetics need to be
set.</p>
<p>As we’ll see later, it’s possible to add multiple geometries to a plot.</p>
</div>
<div id="layer-3-aesthetics" class="section level4 unnumbered">
<h4>Layer 3: Aesthetics</h4>
<p>The <strong>aes</strong>thetic layer determines the relationship between the data and the
geometry. Use the aesthetic layer to map features in the data to <strong>aesthetics</strong>
(visual elements) of the geometry.</p>
<p>The <code>aes</code> function creates an aesthetic layer. The syntax is:</p>
<pre><code>aes(AESTHETIC = FEATURE, ...)</code></pre>
<p>The names of the aesthetics depend on the geometry, but some common ones are
<code>x</code>, <code>y</code>, <code>color</code>, <code>fill</code>, <code>shape</code>, and <code>size</code>. There is more information about
and examples of aesthetic names in the documentation.</p>
<p>For example, if we want to put the <code>distance_mi</code> feature on the x-axis, the
aesthetic layer should be:</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb302-1"><a href="data-visualization.html#cb302-1" aria-hidden="true" tabindex="-1"></a><span class="fu">aes</span>(<span class="at">x =</span> distance_mi)</span></code></pre></div>
<p>In the <code>aes</code> function, column names are never quoted.</p>
<p>Unlike most layers, the aesthetic layer is not added to the plot with the <code>+</code>
operator. Instead, you can pass the aesthetic layer as the second argument to
the <code>ggplot</code> function:</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="data-visualization.html#cb303-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(favs, <span class="fu">aes</span>(<span class="at">x =</span> distance_mi, <span class="at">y =</span> walk_min)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="15_r-ggplot2_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>If you want to set an aesthetic to a constant value, rather than one that’s
data dependent, do so <em>outside</em> of the aesthetic layer. For instance, suppose
we want to make the points blue:</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb304-1"><a href="data-visualization.html#cb304-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(favs, <span class="fu">aes</span>(<span class="at">x =</span> distance_mi, <span class="at">y =</span> walk_min)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="15_r-ggplot2_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>If you set an aesthetic to a constant value inside of the aesthetic layer, the
results you get might not be what you expect:</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="data-visualization.html#cb305-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(favs, <span class="fu">aes</span>(<span class="at">x =</span> distance_mi, <span class="at">y =</span> walk_min, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="15_r-ggplot2_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>This plot also demonstrates the importance of visualization. We can see that
one of the survey response distances is around 500 miles, which is probably
erroneous. Before we continue, let’s remove all responses that are more than
100 miles from campus:</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb306-1"><a href="data-visualization.html#cb306-1" aria-hidden="true" tabindex="-1"></a>favs <span class="ot">=</span> favs[favs<span class="sc">$</span>distance_mi <span class="sc">&lt;=</span> <span class="dv">100</span>, ]</span></code></pre></div>
</div>
<div id="per-geometry-aesthetics" class="section level4 unnumbered">
<h4>Per-geometry Aesthetics</h4>
<p>When you pass an aesthetic layer to the <code>ggplot</code> function, it applies to the
entire plot. You can also set an aesthetic layer individually for each
geometry, by passing the layer as the first argument in the <code>geom_</code> function:</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="data-visualization.html#cb307-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(favs) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> distance_mi, <span class="at">y =</span> walk_min))</span></code></pre></div>
<p><img src="15_r-ggplot2_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>This is really only useful when you have multiple geometries. As an example,
let’s color-code the points by major:</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="data-visualization.html#cb308-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(favs, <span class="fu">aes</span>(<span class="at">x =</span> distance_mi, <span class="at">y =</span> walk_min, <span class="at">color =</span> major)) <span class="sc">+</span></span>
<span id="cb308-2"><a href="data-visualization.html#cb308-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="15_r-ggplot2_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>Now let’s also add labels to each point. To do this, we need to add another
geometry:</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="data-visualization.html#cb309-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(favs, <span class="fu">aes</span>(<span class="at">x =</span> distance_mi, <span class="at">y =</span> walk_min, <span class="at">color =</span> major, <span class="at">label =</span> major)) <span class="sc">+</span></span>
<span id="cb309-2"><a href="data-visualization.html#cb309-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_text</span>(<span class="at">size =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="15_r-ggplot2_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>Where we put the aesthetics matters:</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="data-visualization.html#cb310-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(favs, <span class="fu">aes</span>(<span class="at">x =</span> distance_mi, <span class="at">y =</span> walk_min, <span class="at">label =</span> major)) <span class="sc">+</span></span>
<span id="cb310-2"><a href="data-visualization.html#cb310-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">color =</span> major), <span class="at">size =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="15_r-ggplot2_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
</div>
<div id="layer-4-scales" class="section level4 unnumbered">
<h4>Layer 4: Scales</h4>
<p>The scales layer controls the title, axis labels, and axis scales of the plot.
Most of the functions in the scales layer are prefixed with <code>scale_</code>, but not
all of them.</p>
<p>The <code>labs</code> function is especially important, because it’s used to set the title
and axis labels:</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="data-visualization.html#cb311-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(favs, <span class="fu">aes</span>(<span class="at">x =</span> distance_mi, <span class="at">y =</span> walk_min)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb311-2"><a href="data-visualization.html#cb311-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Walking Distance vs Miles&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Distance (mi)&quot;</span>,</span>
<span id="cb311-3"><a href="data-visualization.html#cb311-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Walking Distance (min)&quot;</span>)</span></code></pre></div>
<p><img src="15_r-ggplot2_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
</div>
</div>
<div id="saving-plots" class="section level3" number="15.3.2">
<h3><span class="header-section-number">15.3.2</span> Saving Plots</h3>
<p>In ggplot2, use the <code>ggsave</code> function to save the most recent plot you created:</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="data-visualization.html#cb312-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;scatter.png&quot;</span>)</span></code></pre></div>
<p>The file format is selected automatically based on the extension. Common
formats are PNG and PDF.</p>
<div id="the-plot-device" class="section level4 unnumbered">
<h4>The Plot Device</h4>
<p>You can also save a plot with one of R’s “plot device” functions. The steps
are:</p>
<ol style="list-style-type: decimal">
<li>Call a plot device function: <code>png</code>, <code>jpeg</code>, <code>pdf</code>, <code>bmp</code>, <code>tiff</code>, or <code>svg</code>.</li>
<li>Run your code to make the plot.</li>
<li>Call <code>dev.off</code> to indicate that you’re done plotting.</li>
</ol>
<p>This strategy works with any of R’s graphics systems (not just ggplot2).</p>
<p>Here’s an example:</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="data-visualization.html#cb313-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Run these lines in the console, not the notebook!</span></span>
<span id="cb313-2"><a href="data-visualization.html#cb313-2" aria-hidden="true" tabindex="-1"></a><span class="fu">jpeg</span>(<span class="st">&quot;scatter.jpeg&quot;</span>)</span>
<span id="cb313-3"><a href="data-visualization.html#cb313-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(favs, <span class="fu">aes</span>(<span class="at">x =</span> distance_mi, <span class="at">y =</span> walk_min)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span>
<span id="cb313-4"><a href="data-visualization.html#cb313-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
</div>
</div>
<div id="example-bar-plot" class="section level3" number="15.3.3">
<h3><span class="header-section-number">15.3.3</span> Example: Bar Plot</h3>
<p>Let’s say we want to plot the number of responses for each major. A bar plot is
an appropriate way to represent this visually.</p>
<p>The geometry for a bar plot is <code>geom_bar</code>. Since bar plots are mainly used to
display frequencies, the <code>geom_bar</code> function automatically computes frequencies
when given mapped to a categorical feature. So we can write:</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="data-visualization.html#cb314-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(favs, <span class="fu">aes</span>(<span class="at">x =</span> major)) <span class="sc">+</span> <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb314-2"><a href="data-visualization.html#cb314-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Majors in Responses&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Major&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Count&quot;</span>)</span></code></pre></div>
<p><img src="15_r-ggplot2_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>To prevent <code>geom_bar</code> from computing frequencies automatically, set <code>stat = "identity"</code>. This is mainly useful if you want to plot quantities you’ve
computed manually on the y-axis.</p>
</div>
</div>
<div id="designing-a-visualization" class="section level2" number="15.4">
<h2><span class="header-section-number">15.4</span> Designing a Visualization</h2>
<p>What plot is appropriate?</p>
<table>
<thead>
<tr class="header">
<th>Variable</th>
<th>Versus</th>
<th>Plot</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>categorical</td>
<td></td>
<td>bar, dot</td>
</tr>
<tr class="even">
<td>categorical</td>
<td>categorical</td>
<td>bar, dot, mosaic</td>
</tr>
<tr class="odd">
<td>numerical</td>
<td></td>
<td>box, density, histogram</td>
</tr>
<tr class="even">
<td>numerical</td>
<td>categorical</td>
<td>box, density, ridge</td>
</tr>
<tr class="odd">
<td>numerical</td>
<td>numerical</td>
<td>line, scatter, smooth scatter</td>
</tr>
</tbody>
</table>
<p>If you want to add a:</p>
<ul>
<li>3rd numerical variable, use it to change point/line sizes.</li>
<li>3rd categorical variable, use it to change point/line styles.</li>
<li>4th categorical variable, use side-by-side plots.</li>
</ul>
<p>Also:</p>
<ul>
<li><p>Always add a title and axis labels. These should be in plain English, not
variable names!</p></li>
<li><p>Specify units after the axis label if the axis has units. For instance,
“Height (ft).”</p></li>
<li><p>Don’t forget that many people are colorblind! Also, plots are often printed
in black and white. Use point and line styles to distinguish groups; color is
optional.</p></li>
<li><p>Add a legend whenever you’ve used more than one point or line style.</p></li>
<li><p>Always write a few sentences explaining what the plot reveals. Don’t
describe the plot, because the reader can just look at it. Instead,
explain what they can learn from the plot and point out important details
that are easily overlooked.</p></li>
<li><p>Sometimes points get plotted on top of each other. This is called
<em>overplotting</em>. Plots with a lot of overplotting can be hard to read and can
even misrepresent the data by hiding how many points are present. Use a
two-dimensional density plot or jitter the points to deal with overplotting.</p></li>
<li><p>For side-by-side plots, use the same axis scales for both plots so that
comparing them is not deceptive.</p></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="optical-character-recognition.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="network-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ucdavisdatalab/adventures_in_data_science/edit/master/15_r-ggplot2.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ucdavisdatalab/adventures_in_data_science/blob/master/15_r-ggplot2.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
